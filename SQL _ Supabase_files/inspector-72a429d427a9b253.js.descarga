!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="1bb3cd76-de67-465d-808c-9a567211d551",e._sentryDebugIdIdentifier="sentry-dbid-1bb3cd76-de67-465d-808c-9a567211d551")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7893],{29518:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/realtime/inspector",function(){return s(13901)}])},67628:function(e,t,s){"use strict";s.d(t,{Q:function(){return i}});var a=s(97458),n=s(94059),r=s(73565),l=s(55228),i=e=>{let{page:t,menu:s}=e;return(0,a.jsx)("div",{className:"flex flex-col space-y-8 overflow-y-auto","data-sentry-component":"ProductMenu","data-sentry-source-file":"ProductMenu.tsx",children:(0,a.jsx)(n.ZP,{type:"pills","data-sentry-element":"Menu","data-sentry-source-file":"ProductMenu.tsx",children:s.map((e,i)=>(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"my-6 space-y-8",children:(0,a.jsxs)("div",{className:"mx-3",children:[(0,a.jsx)(n.ZP.Group,{title:e.title?(0,a.jsxs)("div",{className:"flex flex-col space-y-2 uppercase font-mono",children:[(0,a.jsx)("span",{children:e.title}),e.isPreview&&(0,a.jsx)(r.C,{variant:"warning",children:"Not production ready"})]}):null}),(0,a.jsx)("div",{children:e.items.map(e=>{let s=e.pages?e.pages.includes(t):t===e.key;return(0,a.jsx)(l.Z,{url:e.url,name:e.name,icon:e.icon,rightIcon:e.rightIcon,isActive:s,isExternal:e.isExternal,target:e.isExternal?"_blank":"_self",label:e.label},e.key)})})]})}),i!==s.length-1&&(0,a.jsx)("div",{className:"h-px w-full bg-border-overlay"})]},e.key||e.title))})})}},25024:function(e,t,s){"use strict";s.d(t,{k:function(){return i}});var a=s(62213);let n={search:"",timestampStart:"",timestampEnd:"",filters:{}},r=e=>(0,a.jo)({parse:t=>null!=t?t:e,serialize:e=>e||""}),l=e=>(0,a.jo)({parse:t=>{if(!t)return e;try{return JSON.parse(t)}catch(t){return e}},serialize:e=>{if(!e)return"";try{return JSON.stringify(e)}catch(e){return""}}});function i(){let[e,t]=(0,a.v1)("s",r(n.search)),[s,i]=(0,a.v1)("its",r(n.timestampStart)),[o,c]=(0,a.v1)("ite",r(n.timestampEnd)),[d,x]=(0,a.v1)("log",r("")),[u,m]=(0,a.v1)("f",l(n.filters)),h=e||n.search,f=s||n.timestampStart,p=o||n.timestampEnd,g=u||n.filters,y=e=>{t(e||n.search)},j=e=>{m(e||n.filters)};return{search:h,timestampStart:f,timestampEnd:p,selectedLogId:d||null,filters:g,setSearch:y,setTimeRange:(e,t)=>{i(e||n.timestampStart),c(t||n.timestampEnd)},setSelectedLogId:e=>{x(e||"")},setFilters:j,updateFilter:(e,t)=>{j({...g,[e]:t})},reset:()=>{y(n.search),i(n.timestampStart),c(n.timestampEnd),x(""),m(n.filters)}}}},31584:function(e,t,s){"use strict";s.d(t,{Z:function(){return w}});var a=s(97458),n=s(12436),r=s(79398),l=s(96142),i=s(21853),o=s(73385),c=s(68),d=s(77270),x=s(71042),u=s(83145),m=s.n(u),h=s(32691),f=s(52983),p=s(37756),g=s(65092),y=s(90839),j=s(3503),v=s(34730),b=()=>{let e=(0,h.useRouter)(),[t,s]=(0,f.useState)(!1),{ref:r}=(0,n.UO)();return(0,a.jsxs)("div",{className:"h-14 w-full flex flex-row md:hidden","data-sentry-component":"MobileNavigationBar","data-sentry-source-file":"MobileNavigationBar.tsx",children:[(0,a.jsxs)("nav",{className:(0,g.cn)("group px-4 z-10 w-full h-14","border-b bg-dash-sidebar border-default shadow-xl","transition-width duration-200","hide-scrollbar flex flex-row items-center justify-between overflow-x-auto"),children:[(0,a.jsx)(m(),{href:p.Qy?"/projects":"/project/".concat(r),className:"flex items-center h-[26px] w-[26px] min-w-[26px]","data-sentry-element":"Link","data-sentry-source-file":"MobileNavigationBar.tsx",children:(0,a.jsx)("img",{alt:"Supabase",src:"".concat(e.basePath,"/img/supabase-logo.svg"),className:"absolute h-[26px] w-[26px] cursor-pointer rounded"})}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(j.av,{"data-sentry-element":"CommandMenuTrigger","data-sentry-source-file":"MobileNavigationBar.tsx",children:(0,a.jsx)("button",{className:(0,g.cn)("group","flex-grow h-[30px] rounded-md","p-2","flex items-center justify-between","bg-transparent border-none text-foreground-lighter","hover:bg-opacity-100 hover:border-strong hover:text-foreground-light","focus-visible:!outline-4 focus-visible:outline-offset-1 focus-visible:outline-brand-600","transition"),children:(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(0,a.jsx)(d.Z,{size:18,strokeWidth:2,"data-sentry-element":"Search","data-sentry-source-file":"MobileNavigationBar.tsx"})})})}),(0,a.jsx)("button",{title:"Menu dropdown button",className:(0,g.cn)((0,y.d)({type:"default"}),"flex lg:hidden border-default bg-surface-100/75 text-foreground-light rounded-md min-w-[30px] w-[30px] h-[30px] data-[state=open]:bg-overlay-hover/30"),onClick:()=>s(!0),children:(0,a.jsx)(x.Z,{size:18,strokeWidth:1,"data-sentry-element":"Menu","data-sentry-source-file":"MobileNavigationBar.tsx"})})]})]}),(0,a.jsx)(v.Z,{open:t,onOpenChange:s,"data-state":"expanded","data-sentry-element":"MobileSheetNav","data-sentry-source-file":"MobileNavigationBar.tsx",children:(0,a.jsx)(i.TZ,{"data-sentry-element":"SidebarContent","data-sentry-source-file":"MobileNavigationBar.tsx"})})]})},N=s(88971),w=e=>{let{children:t,showProductMenu:s}=e,{ref:d}=(0,n.UO)();return(0,a.jsx)(o.Hn,{defaultOpen:!1,"data-sentry-element":"SidebarProvider","data-sentry-component":"DefaultLayout","data-sentry-source-file":"DefaultLayout.tsx",children:(0,a.jsx)(N.Ml,{projectRef:d,"data-sentry-element":"ProjectContextProvider","data-sentry-source-file":"DefaultLayout.tsx",children:(0,a.jsx)(l.EA,{"data-sentry-element":"AppBannerContextProvider","data-sentry-source-file":"DefaultLayout.tsx",children:(0,a.jsxs)("div",{className:"flex flex-col h-screen w-screen",children:[(0,a.jsx)(r.l,{"data-sentry-element":"AppBannerWrapper","data-sentry-source-file":"DefaultLayout.tsx"}),(0,a.jsxs)("div",{className:"flex-shrink-0",children:[(0,a.jsx)(b,{"data-sentry-element":"MobileNavigationBar","data-sentry-source-file":"DefaultLayout.tsx"}),(0,a.jsx)(c.N,{showProductMenu:s,"data-sentry-element":"LayoutHeader","data-sentry-source-file":"DefaultLayout.tsx"})]}),(0,a.jsxs)("div",{className:"flex flex-1 w-full overflow-y-hidden",children:[(0,a.jsx)(i.YE,{"data-sentry-element":"Sidebar","data-sentry-source-file":"DefaultLayout.tsx"}),(0,a.jsx)("div",{className:"flex-grow h-full overflow-y-auto",children:t})]})]})})})})}},54768:function(e,t,s){"use strict";s.d(t,{Z:function(){return d}});var a=s(97458),n=s(32691),r=s(67628),l=s(62432),i=s(58326),o=s(47414);let c=e=>{var t;let s=null!==(t=null==e?void 0:e.ref)&&void 0!==t?t:"default";return[{title:"Tools",items:[{name:"Inspector",key:"inspector",url:"/project/".concat(s,"/realtime/inspector"),items:[]}]},{title:"Configuration",items:[{name:"Policies",key:"policies",url:"/project/".concat(s,"/realtime/policies"),items:[]}]}]};var d=(0,i.Q)(e=>{let{title:t,children:s}=e,i=(0,l.Vm)(),d=(0,n.useRouter)().pathname.split("/")[4];return(0,a.jsx)(o.Z,{title:t,product:"Realtime",productMenu:(0,a.jsx)(r.Q,{page:d,menu:c(i)}),"data-sentry-element":"ProjectLayout","data-sentry-component":"RealtimeLayout","data-sentry-source-file":"RealtimeLayout.tsx",children:s})})},66318:function(e,t,s){"use strict";var a=s(97458),n=s(62507),r=s(57304),l=s(52983),i=s(45536),o=s(90839),c=s(65092);t.Z=e=>{var t;let{text:s,asyncText:d,iconOnly:x=!1,children:u,onClick:m,copyLabel:h="Copy",copiedLabel:f="Copied",...p}=e,[g,y]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{if(!g)return;let e=setTimeout(()=>y(!1),2e3);return()=>clearTimeout(e)},[g]),(0,a.jsx)(o.z,{onClick:async e=>{let t=d?await d():s;y(!0),await (0,i.vQ)(t),null==m||m(e)},...p,className:(0,c.cn)({"px-1":x},p.className),icon:g?(0,a.jsx)(n.Z,{strokeWidth:2,className:"text-brand"}):null!==(t=p.icon)&&void 0!==t?t:(0,a.jsx)(r.Z,{}),"data-sentry-element":"Button","data-sentry-component":"CopyButton","data-sentry-source-file":"CopyButton.tsx",children:!x&&(0,a.jsx)(a.Fragment,{children:null!=u?u:g?f:h})})}},61767:function(e,t,s){"use strict";var a=s(97458),n=s(44735);t.Z=e=>{let{resourceText:t,isFullPage:s=!1}=e,r=()=>(0,a.jsx)("div",{className:"block w-full rounded border border-opacity-20 py-4 px-6 border-overlay bg-surface-200","data-sentry-component":"NoPermissionMessage","data-sentry-source-file":"NoPermission.tsx",children:(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)(n.Z,{size:20,"data-sentry-element":"AlertCircle","data-sentry-source-file":"NoPermission.tsx"})}),(0,a.jsx)("div",{className:"flex w-full items-center justify-between",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("p",{className:"text-sm",children:["You need additional permissions to ",t]}),(0,a.jsx)("div",{children:(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"Contact your organization owner or administrator for assistance."})})]})})]})});return s?(0,a.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,a.jsx)("div",{className:"w-[550px]",children:(0,a.jsx)(r,{})})}):(0,a.jsx)(r,{})}},55228:function(e,t,s){"use strict";var a=s(97458),n=s(83145),r=s.n(n),l=s(94059),i=s(73565),o=s(90839);t.Z=e=>{let{name:t="",isActive:s,isExternal:n,icon:c,rightIcon:d,url:x="",target:u="_self",onClick:m,textClassName:h="",hoverText:f="",label:p}=e,g=(0,a.jsx)(l.ZP.Item,{icon:c,rounded:!0,active:s,onClick:m,children:(0,a.jsxs)("div",{className:"flex w-full items-center justify-between gap-1",children:[(0,a.jsxs)("div",{title:f||("string"==typeof t?t:""),className:"flex items-center gap-2 truncate w-full "+h,children:[(0,a.jsxs)("span",{className:"truncate",children:[t," "]}),void 0!==p&&(0,a.jsx)(i.C,{variant:"warning",className:"py-0 px-1.5 capitalize",children:p})]}),d&&(0,a.jsx)("div",{children:d})]})});return x?n?(0,a.jsx)(o.z,{asChild:!0,block:!0,className:"!justify-start",type:"text",size:"small",icon:c,children:(0,a.jsx)(r(),{href:x,target:"_blank",rel:"noreferrer",children:t})}):(0,a.jsx)(r(),{href:x,className:"block",target:u,children:g}):g}},66902:function(e,t,s){"use strict";var a=s(97458),n=s(198),r=s(50416),l=s(62507),i=s(36950),o=s(52983),c=s(88971),d=s(58015),x=s(90817),u=s(90839),m=s(54135),h=s(10947),f=s(42026),p=s(47482),g=s(64890);t.Z=e=>{let{className:t,disabled:s=!1,size:y="tiny",showError:j=!0,selectedSchemaName:v,supportSelectAll:b=!1,excludedSchemas:N=[],onSelectSchema:w,onSelectCreateSchema:C}=e,[k,S]=(0,o.useState)(!1),M=(0,x.Xo)(n.KA.TENANT_SQL_ADMIN_WRITE,"schemas"),{project:_}=(0,c.d2)(),{data:z,isLoading:T,isSuccess:R,isError:P,error:Z,refetch:I}=(0,d.Q1)({projectRef:null==_?void 0:_.ref,connectionString:null==_?void 0:_.connectionString}),E=(z||[]).filter(e=>!N.includes(e.name)).sort((e,t)=>e.name.localeCompare(t.name));return(0,a.jsxs)("div",{className:t,"data-sentry-component":"SchemaSelector","data-sentry-source-file":"SchemaSelector.tsx",children:[T&&(0,a.jsx)(u.z,{type:"default",className:"w-full [&>span]:w-full",size:y,disabled:!0,children:(0,a.jsx)(m.O,{className:"w-full h-3 bg-foreground-muted"})},"schema-selector-skeleton"),j&&P&&(0,a.jsxs)(h.bZ,{variant:"warning",className:"!px-3 !py-3",children:[(0,a.jsx)(h.Cd,{className:"text-xs text-amber-900",children:"Failed to load schemas"}),(0,a.jsxs)(h.X,{className:"text-xs mb-2 break-words",children:["Error: ",null==Z?void 0:Z.message]}),(0,a.jsx)(u.z,{type:"default",size:"tiny",onClick:()=>I(),children:"Reload schemas"})]}),R&&(0,a.jsxs)(f.J2,{open:k,onOpenChange:S,modal:!1,children:[(0,a.jsx)(f.xo,{asChild:!0,children:(0,a.jsx)(u.z,{size:y,disabled:s,type:"default","data-testid":"schema-selector",className:"w-full [&>span]:w-full !pr-1 space-x-1",iconRight:(0,a.jsx)(r.Z,{className:"text-foreground-muted",strokeWidth:2,size:14}),children:v?(0,a.jsxs)("div",{className:"w-full flex gap-1",children:[(0,a.jsx)("p",{className:"text-foreground-lighter",children:"schema"}),(0,a.jsx)("p",{className:"text-foreground",children:"*"===v?"All schemas":v})]}):(0,a.jsx)("div",{className:"w-full flex gap-1",children:(0,a.jsx)("p",{className:"text-foreground-lighter",children:"Choose a schema…"})})})}),(0,a.jsx)(f.yk,{className:"p-0 min-w-[200px]",side:"bottom",align:"start",sameWidthAsTrigger:!0,children:(0,a.jsxs)(p.mY,{children:[(0,a.jsx)(p.sZ,{placeholder:"Find schema..."}),(0,a.jsxs)(p.e8,{children:[(0,a.jsx)(p.rb,{children:"No schemas found"}),(0,a.jsx)(p.fu,{children:(0,a.jsxs)(g.x,{className:(E||[]).length>7?"h-[210px]":"",children:[b&&(0,a.jsxs)(p.di,{className:"cursor-pointer flex items-center justify-between space-x-2 w-full",onSelect:()=>{w("*"),S(!1)},onClick:()=>{w("*"),S(!1)},children:[(0,a.jsx)("span",{children:"All schemas"}),"*"===v&&(0,a.jsx)(l.Z,{className:"text-brand",strokeWidth:2,size:16})]},"select-all"),null==E?void 0:E.map(e=>(0,a.jsxs)(p.di,{className:"cursor-pointer flex items-center justify-between space-x-2 w-full",onSelect:()=>{w(e.name),S(!1)},onClick:()=>{w(e.name),S(!1)},children:[(0,a.jsx)("span",{children:e.name}),v===e.name&&(0,a.jsx)(l.Z,{className:"text-brand",strokeWidth:2,size:16})]},e.id))]})}),void 0!==C&&M&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.zz,{}),(0,a.jsx)(p.fu,{children:(0,a.jsxs)(p.di,{className:"cursor-pointer flex items-center gap-x-2 w-full",onSelect:()=>{C(),S(!1)},onClick:()=>{C(),S(!1)},children:[(0,a.jsx)(i.Z,{size:12}),"Create a new schema"]})})]})]})]})})]})]})}},13901:function(e,t,s){"use strict";s.r(t),s.d(t,{InspectorPage:function(){return e4},default:function(){return e5}});var a=s(97458),n=s(198),r=s(12436),l=s(52983),i=s(82288),o=s(68769),c=s(77700),d=s(359),x=s(75541),u=s(90330),m=s(98601),h=s(86848),f=s(5394),p=s(67096),g=s(42026),y=s(90839),j=s(49142),v=s(56740),b=s(62210);let N=f.Ry({channel:f.Z_(),isPrivate:f.O7()}),w=e=>{let{config:t,onChangeConfig:s}=e,[n,o]=(0,l.useState)(!1),{ref:c}=(0,r.UO)(),d=(0,x.l)(),{mutate:f}=(0,i.a)(),w=(0,h.cI)({mode:"onBlur",reValidateMode:"onBlur",resolver:(0,u.F)(N),defaultValues:{channel:"",isPrivate:!1}}),C=()=>{var e;o(!1),f({action:"realtime_inspector_listen_channel_clicked",groups:{project:null!=c?c:"Unknown",organization:null!==(e=null==d?void 0:d.slug)&&void 0!==e?e:"Unknown"}}),s({...t,channelName:w.getValues("channel"),isChannelPrivate:w.getValues("isPrivate"),enabled:!0})};return(0,a.jsxs)(g.J2,{open:n,onOpenChange:e=>{!0===e&&w.setValue("channel",t.channelName),o(e)},"data-sentry-element":"Popover_Shadcn_","data-sentry-component":"ChooseChannelPopover","data-sentry-source-file":"index.tsx",children:[(0,a.jsx)(g.xo,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"index.tsx",children:(0,a.jsx)(y.z,{className:"rounded-r-none",type:"default",size:"tiny",iconRight:(0,a.jsx)(m.Z,{}),"data-sentry-element":"Button","data-sentry-source-file":"index.tsx",children:(0,a.jsx)("p",{className:"max-w-[120px] truncate",title:t.channelName.length>0?t.channelName:"",children:t.channelName.length>0?"Channel: ".concat(t.channelName):"Join a channel"})})}),(0,a.jsx)(g.yk,{className:"p-0 w-[320px]",align:"start","data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"index.tsx",children:(0,a.jsx)("div",{className:"p-4 flex flex-col text-sm",children:0===t.channelName.length?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(j.l0,{...w,children:(0,a.jsxs)("form",{id:"realtime-channel",onSubmit:w.handleSubmit(()=>C()),className:"flex flex-col gap-y-4",children:[(0,a.jsx)(j.Wi,{name:"channel",control:w.control,render:e=>{let{field:t}=e;return(0,a.jsxs)(j.xJ,{className:"flex flex-col gap-y-2",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,a.jsx)("label",{className:"text-foreground text-xs",children:"Name of channel"}),(0,a.jsxs)("div",{className:"flex flex-row",children:[(0,a.jsx)(j.NI,{children:(0,a.jsx)(v.I,{...t,autoComplete:"off",className:"rounded-r-none text-xs px-2.5 py-1 h-auto",placeholder:"Enter a channel name"})}),(0,a.jsx)(y.z,{type:"primary",className:"rounded-l-none",disabled:0===w.getValues().channel.length,onClick:()=>C(),children:"Listen to channel"})]})]}),(0,a.jsxs)(j.pf,{className:"text-xs text-foreground-lighter",children:["The channel you initialize with the Supabase Realtime client. Learn more in"," ",(0,a.jsx)("a",{target:"_blank",rel:"noreferrer",className:"underline hover:text-foreground transition",href:"https://supabase.com/docs/guides/realtime/concepts#channels",children:"our docs"})]})]})}}),(0,a.jsx)(j.Wi,{control:w.control,name:"isPrivate",render:e=>{let{field:t}=e;return(0,a.jsxs)(j.xJ,{className:"",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center gap-x-2",children:[(0,a.jsx)(j.NI,{children:(0,a.jsx)(b.r,{checked:t.value,onCheckedChange:t.onChange,disabled:t.disabled})}),(0,a.jsx)(j.lX,{className:"text-xs",children:"Is channel private?"})]}),(0,a.jsx)(j.pf,{className:"text-xs text-foreground-lighter mt-2",children:"If the channel is marked as private, it will use RLS policies to filter messages."})]})}},"isPrivate"),(0,a.jsx)(p.G,{abbrev:!1,className:"w-min",href:"https://supabase.com/docs/guides/realtime/authorization"})]})})}):(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,a.jsxs)("p",{className:"text-foreground text-xs",children:["Currently joined"," ",(0,a.jsx)("span",{className:t.isChannelPrivate?"text-brand":"text-warning",children:t.isChannelPrivate?"private":"public"})," ","channel:"]}),(0,a.jsx)("p",{className:"text-xs border border-scale-600  py-0.5 px-1 rounded-md bg-surface-200",children:t.channelName})]}),(0,a.jsx)("p",{className:"text-xs text-foreground-lighter mt-2",children:"If you leave this channel, all of the messages populated on this page will disappear"}),(0,a.jsx)(y.z,{type:"default",onClick:()=>s({...t,channelName:"",enabled:!1}),children:"Leave channel"})]})})})]})};var C=s(74828),k=s(83145),S=s.n(k),M=s(65092),_=s(73565),z=s(25843);let T=(0,l.createContext)({contextSize:"small",className:""});var R=function(e){let{className:t,size:s,type:n="Mail",color:r,strokeWidth:l,fill:i,stroke:o,background:c,src:d,icon:x,...u}=e,m=(0,z.Z)("icon");return(0,a.jsx)(T.Consumer,{"data-sentry-element":"unknown","data-sentry-component":"IconBase","data-sentry-source-file":"IconBase.tsx",children:e=>{let{contextSize:n,className:h}=e,f={tiny:14,small:18,medium:20,large:20,xlarge:24,xxlarge:30,xxxlarge:42},p=f.large,g=21;n&&(g=n?"string"==typeof n?f[n]:n:p),s&&(g=s?"string"==typeof s?f[s]:s:p);let y=!r&&!i&&!o,j=["sbui-icon",t];h&&j.push(h);let v=d?(0,a.jsx)("div",{className:"relative",style:{width:g+"px",height:g+"px"},children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",color:y?"currentColor":r,fill:y?"none":i||"none",stroke:y?"currentColor":o,className:(0,M.cn)(j),width:"100%",height:"100%",strokeWidth:null!=l?l:void 0,...u,children:d})}):(0,a.jsx)(x,{color:y?"currentColor":r,stroke:y?"currentColor":o,className:(0,M.cn)(j),strokeWidth:l,size:g,fill:y?"none":i||"none",...u,"data-sentry-element":"FeatherIcon","data-sentry-component":"IconComponent","data-sentry-source-file":"IconBase.tsx"});return c?(0,a.jsx)("div",{className:m.container,children:v}):v}})};let P=()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{stroke:"currentColor",strokeLinejoin:"round",strokeMiterlimit:10,d:"m23.149 23.499 3.424 7.83a.5.5 0 0 0 .942-.074l.74-2.868a.5.5 0 0 1 .364-.36l3.039-.756a.5.5 0 0 0 .08-.943l-7.93-3.487a.5.5 0 0 0-.66.658Z","data-sentry-element":"path","data-sentry-source-file":"IconPresence.tsx"}),(0,a.jsx)("path",{stroke:"currentColor",strokeLinejoin:"round",strokeMiterlimit:10,d:"M24.544 32.746h-5.623a3 3 0 0 1-3-3V18.5a3 3 0 0 1 3-3h11.247a3 3 0 0 1 3 3v5.623",opacity:.45,"data-sentry-element":"path","data-sentry-source-file":"IconPresence.tsx"})]});var Z=function(e){return(0,a.jsx)(R,{src:(0,a.jsx)(P,{}),viewBox:"12.5 12 24 24",...e,"data-sentry-element":"IconBase","data-sentry-component":"IconPresence","data-sentry-source-file":"IconPresence.tsx"})},I=s(30739);let E=()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{id:"Ellipse 146",d:"M17.3154 6.70312C18.6968 8.06227 19.5532 9.95249 19.5532 12.0426C19.5532 14.1326 18.6968 16.0229 17.3154 17.382M6.79102 6.70312C5.40966 8.06227 4.55322 9.95249 4.55322 12.0426C4.55322 14.1326 5.40966 16.0229 6.79102 17.382",stroke:"currentColor",strokeMiterlimit:"10",strokeLinejoin:"bevel",opacity:.45,"data-sentry-element":"path","data-sentry-source-file":"IconBroadcast.tsx"}),(0,a.jsx)("ellipse",{id:"Ellipse 144",cx:"12.0532",cy:"12.0428",rx:"3.00928",ry:"3.00666",stroke:"currentColor",strokeMiterlimit:"10",strokeLinejoin:"bevel","data-sentry-element":"ellipse","data-sentry-source-file":"IconBroadcast.tsx"}),(0,a.jsx)("path",{id:"Vector 96",d:"M12.0747 15.0488L12.0747 23.9996",stroke:"currentColor",strokeMiterlimit:"10",strokeLinejoin:"bevel","data-sentry-element":"path","data-sentry-source-file":"IconBroadcast.tsx"})]});var B=function(e){return(0,a.jsx)(R,{src:(0,a.jsx)(E,{}),viewBox:"0 0 24 24",...e,"data-sentry-element":"IconBase","data-sentry-component":"IconBroadcast","data-sentry-source-file":"IconBroadcast.tsx"})};let D=()=>(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:25,height:24,fill:"none","data-sentry-element":"svg","data-sentry-component":"SvgComponent","data-sentry-source-file":"IconDatabaseChanges.tsx",children:[(0,a.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"bevel",strokeMiterlimit:10,d:"M20.307 12a7.807 7.807 0 0 1-7.807 7.808M4.693 12A7.807 7.807 0 0 1 12.5 4.193",opacity:.45,"data-sentry-element":"path","data-sentry-source-file":"IconDatabaseChanges.tsx"}),(0,a.jsx)("circle",{cx:17.512,cy:6.971,r:3.723,stroke:"currentColor",strokeLinejoin:"bevel",strokeMiterlimit:10,"data-sentry-element":"circle","data-sentry-source-file":"IconDatabaseChanges.tsx"}),(0,a.jsx)("path",{stroke:"currentColor",strokeLinejoin:"bevel",strokeMiterlimit:10,d:"m10.11 13.287 2.137 3.703-2.138 3.703H5.833L3.695 16.99l2.138-3.703h4.276Z","data-sentry-element":"path","data-sentry-source-file":"IconDatabaseChanges.tsx"})]});var L=function(e){return(0,a.jsx)(R,{src:(0,a.jsx)(D,{}),viewBox:"0 0 25 24",...e,"data-sentry-element":"IconBase","data-sentry-component":"IconDatabaseChanges","data-sentry-source-file":"IconDatabaseChanges.tsx"})},F=s(51571),O=s(32002),A=s(66902);let W=e=>{let{value:t,onChange:s}=e;return(0,a.jsxs)("div",{className:"flex flex-row gap-4 items-center","data-sentry-component":"FilterSchema","data-sentry-source-file":"FilterSchema.tsx",children:[(0,a.jsx)("p",{className:"w-[60px] flex justify-end text-sm",children:"WHERE"}),(0,a.jsx)(A.Z,{disabled:!0,supportSelectAll:!0,size:"small",selectedSchemaName:t,onSelectSchema:s,className:"rounded-l-none [&>button>span>div]:py-0 w-64","data-sentry-element":"SchemaSelector","data-sentry-source-file":"FilterSchema.tsx"})]})};var U=s(47482),H=s(10947),J=s(64890),V=s(88971),G=s(83402),Q=s(77837),X=s.n(Q),Y=s(5295),K=s(10839),q=s(62507),$=e=>{let{className:t,size:s="tiny",showError:n=!0,selectedSchemaName:r,selectedTableName:i,onSelectTable:o}=e,[c,d]=(0,l.useState)(!1),[x,u]=(0,l.useState)(!1),{project:m}=(0,V.d2)(),[h,f]=(0,l.useState)(""),{data:p,isLoading:j,isSuccess:v,isError:b,error:N,refetch:w}=(0,G.Hp)({projectRef:null==m?void 0:m.ref,search:h,connectionString:null==m?void 0:m.connectionString,schemas:[r]});(0,l.useEffect)(()=>{!x&&v&&u(!0)},[x,v]),(0,l.useEffect)(()=>{c||""===h||f("")},[c,h]);let C=X()(f),k=((null==p?void 0:p.pages[0].data.entities)?[...null==p?void 0:p.pages[0].data.entities]:[]).sort((e,t)=>e.name>t.name?0:-1);return(0,a.jsx)("div",{className:t,"data-sentry-component":"TableSelector","data-sentry-source-file":"TableSelector.tsx",children:(0,a.jsxs)(g.J2,{open:c,onOpenChange:d,modal:!1,"data-sentry-element":"Popover_Shadcn_","data-sentry-source-file":"TableSelector.tsx",children:[(0,a.jsx)(g.xo,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"TableSelector.tsx",children:(0,a.jsx)(y.z,{size:s,type:"outline",disabled:j,className:"w-full [&>span]:w-full ".concat("small"===s?"py-1.5":""),icon:j?(0,a.jsx)(Y.Z,{className:"animate-spin",size:12}):null,iconRight:(0,a.jsx)(K.Z,{className:"text-foreground-light rotate-90",strokeWidth:2,size:12}),"data-sentry-element":"Button","data-sentry-source-file":"TableSelector.tsx",children:x?(0,a.jsxs)("div",{className:"w-full flex space-x-3",children:[(0,a.jsx)("p",{className:"text-xs text-light",children:"table"}),(0,a.jsx)("p",{className:"text-xs",children:"*"===i?"All tables":i})]}):(0,a.jsx)("p",{className:"flex text-xs text-light",children:"Loading tables..."})})}),(0,a.jsx)(g.yk,{className:"p-0 w-64",side:"bottom",align:"start","data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"TableSelector.tsx",children:(0,a.jsxs)(U.mY,{"data-sentry-element":"Command_Shadcn_","data-sentry-source-file":"TableSelector.tsx",children:[(0,a.jsx)(U.sZ,{placeholder:"Find table...",onValueChange:e=>C(e),"data-sentry-element":"CommandInput_Shadcn_","data-sentry-source-file":"TableSelector.tsx"}),(0,a.jsxs)(U.e8,{"data-sentry-element":"CommandList_Shadcn_","data-sentry-source-file":"TableSelector.tsx",children:[j&&(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2 px-3 py-2",children:[(0,a.jsx)(Y.Z,{className:"animate-spin",size:12}),(0,a.jsx)("p",{className:"flex text-xs text-light",children:"Loading tables..."})]}),n&&b&&(0,a.jsxs)(H.bZ,{variant:"warning",className:"!px-3 !py-3 !border-0 rounded-none",children:[(0,a.jsx)(H.Cd,{className:"text-xs text-amber-900",children:"Failed to load tables"}),(0,a.jsxs)(H.X,{className:"text-xs mb-2",children:["Error: ",null==N?void 0:N.message]}),(0,a.jsx)(y.z,{type:"default",size:"tiny",onClick:()=>w(),children:"Reload tables"})]}),v&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(U.fu,{forceMount:!0,children:(0,a.jsxs)(J.x,{className:(k||[]).length>7?"h-[210px]":"",children:[(0,a.jsx)(U.rb,{children:"No tables found"}),!h&&(0,a.jsxs)(U.di,{className:"cursor-pointer flex items-center justify-between space-x-2 w-full",onSelect:()=>{o("*",void 0),d(!1)},onClick:()=>{o("*",void 0),d(!1)},children:[(0,a.jsx)("span",{children:"All tables"}),"*"===r&&(0,a.jsx)(q.Z,{className:"text-brand",strokeWidth:2})]},"all-tables"),null==k?void 0:k.map(e=>(0,a.jsxs)(U.di,{className:"cursor-pointer flex items-center justify-between space-x-2 w-full",onSelect:()=>{o(e.name,e.id),d(!1)},onClick:()=>{o(e.name,e.id),d(!1)},children:[(0,a.jsx)("span",{children:e.name}),r===e.name&&(0,a.jsx)(q.Z,{className:"text-brand",strokeWidth:2})]},e.id))]})})})]})]})})]})})};let ee=e=>{let{value:t,schema:s,onChange:n}=e;return(0,a.jsxs)("div",{className:"flex flex-row gap-4 items-center","data-sentry-component":"FilterTable","data-sentry-source-file":"FilterTable.tsx",children:[(0,a.jsx)("p",{className:"w-[60px] flex justify-end text-sm",children:"AND"}),(0,a.jsx)($,{selectedSchemaName:s,selectedTableName:t,onSelectTable:n,className:"w-64",size:"small","data-sentry-element":"TableSelector","data-sentry-source-file":"FilterTable.tsx"})]})},et=e=>{let{config:t,onChangeConfig:s}=e,[n,o]=(0,l.useState)(!1),[c,d]=(0,l.useState)(!1),[u,m]=(0,l.useState)(t),{ref:h}=(0,r.UO)(),f=(0,x.l)(),{mutate:p}=(0,i.a)(),j="*"!==t.table;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(g.J2,{open:n,onOpenChange:e=>{!0===e&&m(t),o(e)},"data-sentry-element":"Popover_Shadcn_","data-sentry-source-file":"index.tsx",children:[(0,a.jsx)(g.xo,{asChild:!0,"data-sentry-element":"PopoverTrigger_Shadcn_","data-sentry-source-file":"index.tsx",children:(0,a.jsx)(y.z,{icon:(0,a.jsx)(C.Z,{size:"16"}),type:j?"primary":"dashed",className:(0,M.cn)("rounded-full px-1.5 text-xs",j?"!py-0.5":"!py-1"),size:"small","data-sentry-element":"Button","data-sentry-source-file":"index.tsx",children:j?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"mr-1",children:"Filtered by "}),(0,a.jsxs)(_.C,{variant:"brand",children:["table: ",t.table]})]}):(0,a.jsx)("span",{className:"mr-1",children:"Filter messages"})})}),(0,a.jsxs)(g.yk,{className:"p-0 w-[365px]",align:"start","data-sentry-element":"PopoverContent_Shadcn_","data-sentry-source-file":"index.tsx",children:[(0,a.jsx)("div",{className:"border-b border-overlay text-xs px-4 py-3 text-foreground",children:"Listen to event types"}),(0,a.jsxs)("div",{className:"py-3 px-4 border-b border-overlay",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,a.jsxs)("div",{className:"flex gap-2.5 items-center",children:[(0,a.jsx)(Z,{size:"xlarge",className:"bg-foreground rounded text-background-muted","data-sentry-element":"IconPresence","data-sentry-source-file":"index.tsx"}),(0,a.jsx)("label",{htmlFor:"toggle-presence",className:"text-sm",children:"Presence"})]}),(0,a.jsx)(I.Z,{id:"toggle-presence",size:"tiny",checked:u.enablePresence,onChange:()=>m({...u,enablePresence:!u.enablePresence}),"data-sentry-element":"Toggle","data-sentry-source-file":"index.tsx"})]}),(0,a.jsx)("p",{className:"text-xs text-foreground-light pt-1",children:"Store and synchronize user state consistently across clients"})]}),(0,a.jsxs)("div",{className:"py-3 px-4 border-b border-overlay",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex gap-2.5 items-center",children:[(0,a.jsx)(B,{size:"xlarge",className:"bg-foreground rounded text-background-muted","data-sentry-element":"IconBroadcast","data-sentry-source-file":"index.tsx"}),(0,a.jsx)("label",{htmlFor:"toggle-broadcast",className:"text-sm",children:"Broadcast"})]}),(0,a.jsx)(I.Z,{id:"toggle-broadcast",size:"tiny",checked:u.enableBroadcast,onChange:()=>m({...u,enableBroadcast:!u.enableBroadcast}),"data-sentry-element":"Toggle","data-sentry-source-file":"index.tsx"})]}),(0,a.jsx)("p",{className:"text-xs  text-foreground-light pt-1",children:"Send any data to any client subscribed to the same channel"})]}),(0,a.jsxs)("div",{className:"py-3 px-4 border-b border-overlay",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex gap-2.5 items-center",children:[(0,a.jsx)(L,{size:"xlarge",className:"bg-foreground rounded text-background-muted","data-sentry-element":"IconDatabaseChanges","data-sentry-source-file":"index.tsx"}),(0,a.jsx)("label",{htmlFor:"toggle-db-changes",className:"text-sm",children:"Database changes"})]}),(0,a.jsx)(I.Z,{id:"toggle-db-changes",size:"tiny",checked:u.enableDbChanges,onChange:()=>m({...u,enableDbChanges:!u.enableDbChanges}),"data-sentry-element":"Toggle","data-sentry-source-file":"index.tsx"})]}),(0,a.jsx)("p",{className:"text-xs text-foreground-light pt-1",children:"Listen for Database inserts, updates, deletes and more"})]}),u.enableDbChanges&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"border-b border-overlay text-xs px-4 py-3 text-foreground",children:"Filter messages from database changes"}),(0,a.jsxs)("div",{className:"flex border-b border-overlay p-4 gap-y-2 flex-col",children:[(0,a.jsx)(W,{value:u.schema,onChange:e=>m({...u,schema:e,table:"*"})}),(0,a.jsx)(ee,{value:u.table,schema:u.schema,onChange:e=>m({...u,table:e})})]}),(0,a.jsxs)("div",{className:"border-b border-overlay p-4 flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"flex flex-row gap-4 items-center",children:[(0,a.jsx)("p",{className:"w-[60px] flex justify-end text-sm",children:"AND"}),(0,a.jsx)(F.Z,{size:"tiny",className:"flex-grow",placeholder:"body=eq.hey",value:u.filter,onChange:e=>m({...u,filter:e.target.value})})]}),(0,a.jsxs)("p",{className:"text-xs text-foreground-light pl-[80px]",children:["Learn more about realtime filtering in"," ",(0,a.jsx)(S(),{className:"underline",target:"_blank",rel:"noreferrer",href:"https://supabase.com/docs/guides/realtime/postgres-changes#available-filters",children:"our docs"})]})]})]}),(0,a.jsxs)("div",{className:"px-4 py-2 gap-2 flex justify-end",children:[(0,a.jsx)(y.z,{type:"default",onClick:()=>o(!1),"data-sentry-element":"Button","data-sentry-source-file":"index.tsx",children:"Cancel"}),(0,a.jsx)(y.z,{onClick:()=>d(!0),"data-sentry-element":"Button","data-sentry-source-file":"index.tsx",children:"Apply"})]})]})]}),(0,a.jsx)(O.Z,{title:"Previously found messages will be lost",variant:"destructive",confirmLabel:"Confirm",size:"small",visible:c,onCancel:()=>d(!1),onConfirm:()=>{var e;p({action:"realtime_inspector_filters_applied",groups:{project:null!=h?h:"Unknown",organization:null!==(e=null==f?void 0:f.slug)&&void 0!==e?e:"Unknown"}}),s(u),d(!1),o(!1)},"data-sentry-element":"ConfirmationModal","data-sentry-source-file":"index.tsx",children:(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"The realtime inspector will clear currently collected messages and start listening for new messages matching the updated filters."})})]})};var es=s(34549),ea=s(96273),en=s(23035),er=s(31485),el=s(37756),ei=s(99492),eo=s(24561);let ec=e=>{let{config:t,onChangeConfig:s}=e,n=(0,eo.fN)(),{data:o}=(0,er.zR)({projectRef:t.projectRef}),{anonKey:c,serviceKey:d}=(0,er.Pb)(o),{data:u}=(0,en.s)({projectRef:t.projectRef},{enabled:el.Qy}),m=null==u?void 0:u.jwt_secret,{ref:h}=(0,r.UO)(),f=(0,x.l)(),{mutate:p}=(0,i.a)(),g=(0,l.useRef)(!1);return(0,l.useEffect)(()=>{if(g.current){var e;p({action:"realtime_inspector_database_role_updated",groups:{project:null!=h?h:"Unknown",organization:null!==(e=null==f?void 0:f.slug)&&void 0!==e?e:"Unknown"}})}g.current=!0},[n.role]),(0,l.useEffect)(()=>{(async()=>{let e;let a=null;void 0!==t.projectRef&&void 0!==m&&void 0!==n.role&&"postgrest"===n.role.type?(e=null==c?void 0:c.api_key,await (0,ei.Wn)(t.projectRef,m,n.role).then(e=>a=e).catch(e=>es.Am.error("Failed to get JWT for role: ".concat(e.message)))):e=null==d?void 0:d.api_key,e&&s({...t,token:e,bearer:a})})()},[n.role,c,d]),(0,a.jsx)(ea.Q,{align:"start",variant:"connected-on-both","data-sentry-element":"RoleImpersonationPopover","data-sentry-component":"RealtimeTokensPopover","data-sentry-source-file":"index.tsx"})},ed=e=>{let{config:t,onChangeConfig:s}=e,{mutate:n}=(0,i.a)(),{ref:l}=(0,r.UO)(),u=(0,x.l)();return(0,a.jsxs)("div",{className:"flex flex-row h-14 gap-2.5 items-center px-4","data-sentry-component":"Header","data-sentry-source-file":"Header.tsx",children:[(0,a.jsxs)("div",{className:"flex flex-row",children:[(0,a.jsx)(w,{config:t,onChangeConfig:s,"data-sentry-element":"ChooseChannelPopover","data-sentry-source-file":"Header.tsx"}),(0,a.jsx)(ec,{config:t,onChangeConfig:s,"data-sentry-element":"RealtimeTokensPopover","data-sentry-source-file":"Header.tsx"}),(0,a.jsx)(d.u,{size:"tiny",type:t.enabled?"warning":"primary",className:"rounded-l-none border-l-0",disabled:0===t.channelName.length,icon:t.enabled?(0,a.jsx)(o.Z,{size:"16"}):(0,a.jsx)(c.Z,{size:"16"}),onClick:()=>{if(s({...t,enabled:!t.enabled}),!t.enabled){var e;n({action:"realtime_inspector_listen_channel_clicked",groups:{project:null!=l?l:"Unknown",organization:null!==(e=null==u?void 0:u.slug)&&void 0!==e?e:"Unknown"}})}},tooltip:{content:{side:"bottom",text:0===t.channelName.length?"You need to join a channel first":void 0}},"data-sentry-element":"ButtonTooltip","data-sentry-source-file":"Header.tsx",children:t.enabled?"Stop listening":"Start listening"})]}),(0,a.jsx)(et,{config:t,onChangeConfig:s,"data-sentry-element":"RealtimeFilterPopover","data-sentry-source-file":"Header.tsx"})]})};var ex=s(85466),eu=s.n(ex),em=s(4839),eh=s(52675),ef=s(32190),ep=s(44914),eg=s(88658),ey=s(98686),ej=s(66318),ev=s(28977),eb=s.n(ev);let eN=e=>eb().unix(Number(e)/1e3).toISOString(),ew=e=>{let{children:t}=e;return(0,a.jsx)("div",{className:"flex h-full w-full items-center gap-4","data-sentry-component":"RowLayout","data-sentry-source-file":"MessagesFormatters.tsx",children:t})},eC=e=>{let{value:t,hideCopy:s=!1}=e;return(0,a.jsx)(ek,{label:"Timestamp",value:eN(t),hideCopy:s,"data-sentry-element":"SelectionDetailedRow","data-sentry-component":"SelectionDetailedTimestampRow","data-sentry-source-file":"MessagesFormatters.tsx"})},ek=e=>{let{label:t,value:s,valueRender:n,hideCopy:r=!1}=e;return(0,a.jsxs)("div",{className:"grid grid-cols-12 group","data-sentry-component":"SelectionDetailedRow","data-sentry-source-file":"MessagesFormatters.tsx",children:[(0,a.jsx)("span",{className:"text-scale-900 text-sm col-span-4 whitespace-pre-wrap",children:t}),(0,a.jsx)("span",{className:"text-scale-1200 text-sm col-span-6 whitespace-pre-wrap break-all",children:null!=n?n:s}),!r&&(0,a.jsx)(ej.Z,{text:s,className:"group-hover:opacity-100 opacity-0 my-auto transition col-span-2  h-4 w-4 px-0 py-0",type:"text",title:"Copy to clipboard"})]})},eS=()=>(0,a.jsx)("div",{className:"h-px w-full bg-panel-border-interior-light [[data-theme*=dark]_&]:bg-panel-border-interior-dark","data-sentry-component":"LogsDivider","data-sentry-source-file":"SelectedRealtimeMessagePanel.tsx"}),eM=e=>{let{log:t}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"px-8",children:[(0,a.jsx)("span",{className:"col-span-4 text-sm text-scale-900",children:"Message"}),(0,a.jsx)("p",{className:"text-wrap mt-2 overflow-x-auto whitespace-pre-wrap font-mono text-xs text-scale-1200",children:t.message})]}),(0,a.jsx)(eS,{"data-sentry-element":"LogsDivider","data-sentry-source-file":"SelectedRealtimeMessagePanel.tsx"}),(0,a.jsx)("div",{className:"px-8 space-y-2",children:(0,a.jsx)(eC,{hideCopy:!0,value:t.timestamp,"data-sentry-element":"SelectionDetailedTimestampRow","data-sentry-source-file":"SelectedRealtimeMessagePanel.tsx"})}),(0,a.jsx)(eS,{"data-sentry-element":"LogsDivider","data-sentry-source-file":"SelectedRealtimeMessagePanel.tsx"}),(0,a.jsxs)("div",{className:"px-8",children:[(0,a.jsx)("h3",{className:"mb-4 text-sm text-foreground-lighter",children:"Metadata"}),(0,a.jsx)("pre",{className:"syntax-highlight overflow-x-auto text-sm",children:(0,a.jsx)("div",{className:"text-wrap",dangerouslySetInnerHTML:{__html:t.metadata?JSON.stringify(t.metadata,null,2).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(e){var t="number text-tomato-900";return/^"/.test(e)?t=/:$/.test(e)?"key text-scale-1200":"string text-brand-600":/true|false/.test(e)?t="boolean text-blue-900":/null/.test(e)&&(t="null text-amber-1100"),'<span class="'+t+'">'+e+"</span>"}).split("\n").map(e=>'<span class="line text-xs">'.concat(e,"</span>")).join("\n"):""}})})]})]})};var e_=e=>{let{log:t,onClose:s}=e,n=(0,l.useMemo)(()=>JSON.stringify(t,null,2),[t]),{ref:o}=(0,r.UO)(),c=(0,x.l)(),{mutate:d}=(0,i.a)();return(0,a.jsxs)("div",{className:(0,M.cn)("relative flex h-full flex-grow flex-col border-l border-t-2 overflow-y-scroll bg-200"),"data-sentry-component":"MessageSelection","data-sentry-source-file":"MessageSelection.tsx",children:[(0,a.jsx)("div",{className:(0,M.cn)("absolute flex h-full w-full flex-col items-center justify-center gap-2 bg-200 text-center opacity-0 transition-all",t?"z-0 opacity-0":"z-10 opacity-100"),children:(0,a.jsxs)("div",{className:(0,M.cn)("flex w-full max-w-sm scale-95 flex-col items-center justify-center gap-6 text-center opacity-0 transition-all delay-300 duration-500",t?"mt-0 scale-95 opacity-0":"mt-8 scale-100 opacity-100"),children:[(0,a.jsxs)("div",{className:"relative flex h-4 w-32 items-center rounded border border-default px-2",children:[(0,a.jsx)("div",{className:"h-0.5 w-2/3 rounded-full bg-overlay-hover"}),(0,a.jsx)("div",{className:"absolute right-1 -bottom-4",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1","data-sentry-element":"svg","data-sentry-source-file":"MessageSelection.tsx",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122","data-sentry-element":"path","data-sentry-source-file":"MessageSelection.tsx"})})})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("h3",{className:"text-sm text-foreground",children:"Select a message"}),(0,a.jsx)("p",{className:"text-xs text-foreground-lighter",children:"Click on a message on the left to view details."})]})]})}),(0,a.jsxs)("div",{className:"relative h-px flex-grow",children:[(0,a.jsxs)("div",{className:"pt-4 flex flex-col gap-4",children:[(0,a.jsxs)("div",{className:"px-4 flex flex-row justify-between items-center",children:[(0,a.jsx)("div",{className:"transition",children:(0,a.jsx)(ej.Z,{text:n,type:"default",title:"Copy log to clipboard",onClick:()=>{var e;d({action:"realtime_inspector_copy_message_clicked",groups:{project:null!=o?o:"Unknown",organization:null!==(e=null==c?void 0:c.slug)&&void 0!==e?e:"Unknown"}})},"data-sentry-element":"CopyButton","data-sentry-source-file":"MessageSelection.tsx"})}),(0,a.jsx)(y.z,{type:"text",className:"cursor-pointer transition hover:text-scale-1200 h-8 w-8 px-0 py-0 flex items-center justify-center",onClick:s,"data-sentry-element":"Button","data-sentry-source-file":"MessageSelection.tsx",children:(0,a.jsx)(ey.Z,{size:14,strokeWidth:2,className:"text-scale-900","data-sentry-element":"X","data-sentry-source-file":"MessageSelection.tsx"})})]}),(0,a.jsx)("div",{className:"h-px w-full bg-scale-600 rounded"})]}),(0,a.jsx)("div",{className:"flex flex-col space-y-6 py-4",children:t&&(0,a.jsx)(eM,{log:t})})]})]})},ez=()=>(0,a.jsxs)("div",{className:"border bg-studio border-border rounded-md justify-start items-center flex flex-col w-10/12 relative","data-sentry-component":"NoChannelEmptyState","data-sentry-source-file":"NoChannelEmptyState.tsx",children:[(0,a.jsx)("div",{className:"w-full px-5 py-4 items-center gap-4 inline-flex border-b rounded-t-md",children:(0,a.jsxs)("div",{className:"grow flex-col flex gap-y-1",children:[(0,a.jsx)("p",{className:"text-foreground",children:"Join a channel to start listening to messages"}),(0,a.jsx)("p",{className:"text-foreground-lighter text-xs",children:"Channels are the building blocks of realtime where clients can bi-directionally send and receive messages in."})]})}),(0,a.jsxs)("div",{className:(0,M.cn)("w-full px-5 py-4 items-center gap-4 inline-flex"),children:[(0,a.jsxs)("div",{className:"grow flex-col flex",children:[(0,a.jsx)("p",{className:"text-foreground",children:"Not sure what to do?"}),(0,a.jsx)("p",{className:"text-foreground-lighter text-xs",children:"Browse our documentation"})]}),(0,a.jsx)(p.G,{href:"https://supabase.com/docs/guides/realtime","data-sentry-element":"DocsButton","data-sentry-source-file":"NoChannelEmptyState.tsx"})]})]}),eT=s(71770);let eR={PRESENCE:(0,a.jsx)(Z,{size:"xlarge"}),BROADCAST:(0,a.jsx)(B,{size:"xlarge"}),POSTGRES:(0,a.jsx)(L,{size:"xlarge"}),SYSTEM:(0,a.jsx)(eT.Z,{size:"20",strokeWidth:1})},eP=[{name:"timestamp-with-truncated-text",key:"main-column",renderCell:e=>{let t=e.row.message;return(0,a.jsxs)(ew,{children:[(0,a.jsx)("div",{className:(0,M.cn)("flex justify-center items-center min-w-[24px]",eZ(e.row)?"text-warning-600":"text-green-900"),children:eR[t]}),(0,a.jsx)("span",{className:(0,M.cn)("font-mono",eZ(e.row)?"!text-warning-600":""),children:new Date(e.row.timestamp).toISOString()}),(0,a.jsx)("span",{className:(0,M.cn)("truncate font-mono",eZ(e.row)?"!text-warning-600":""),children:JSON.stringify(e.row.metadata)})]})}}],eZ=e=>{var t;return"SYSTEM"===e.message&&(null===(t=e.metadata)||void 0===t?void 0:t.status)==="error"},eI=e=>{let{enabled:t,hasChannelSet:s,showSendMessage:n}=e,{ref:l}=(0,r.UO)();return(0,a.jsx)("div",{className:"w-full max-w-md flex items-center flex-col","data-sentry-component":"NoResultAlert","data-sentry-source-file":"MessagesTable.tsx",children:s?(0,a.jsxs)(a.Fragment,{children:[t&&(0,a.jsx)("p",{className:"text-foreground",children:"No Realtime messages found"}),(0,a.jsx)("p",{className:"text-foreground-lighter",children:"Realtime message logs will be shown here"}),(0,a.jsxs)("div",{className:"mt-4 border bg-surface-100 border-border rounded-md justify-start items-center flex flex-col w-full",children:[(0,a.jsxs)("div",{className:"w-full px-5 py-4 items-center gap-4 inline-flex border-b",children:[(0,a.jsx)(B,{size:"xlarge",className:"text-background bg-foreground rounded w-6"}),(0,a.jsxs)("div",{className:"grow flex-col flex",children:[(0,a.jsx)("p",{className:"text-foreground",children:"Create a Broadcast message"}),(0,a.jsx)("p",{className:"text-foreground-lighter text-xs",children:"Send a message in the channel"})]}),(0,a.jsx)(y.z,{type:"default",onClick:n,children:"Broadcast a message"})]}),(0,a.jsxs)("div",{className:"w-full px-5 py-4 items-center gap-4 inline-flex border-b",children:[(0,a.jsx)(Z,{size:"xlarge",className:"text-background bg-foreground rounded w-6"}),(0,a.jsxs)("div",{className:"grow flex-col flex",children:[(0,a.jsx)("p",{className:"text-foreground",children:"Join from another browser tab"}),(0,a.jsx)("p",{className:"text-foreground-lighter text-xs",children:"Send messages between multiple clients"})]}),(0,a.jsx)(S(),{href:"/project/".concat(l,"/realtime/inspector"),target:"_blank",rel:"noreferrer",children:(0,a.jsx)(y.z,{type:"default",iconRight:(0,a.jsx)(em.Z,{}),children:"Open inspector"})})]}),(0,a.jsxs)("div",{className:"w-full px-5 py-4 items-center gap-4 inline-flex border-b",children:[(0,a.jsx)(L,{size:"xlarge",className:"text-background bg-foreground rounded w-6"}),(0,a.jsxs)("div",{className:"grow flex-col flex",children:[(0,a.jsx)("p",{className:"text-foreground",children:"Listen to a table for changes"}),(0,a.jsx)("p",{className:"text-foreground-lighter text-xs",children:"Tables must have realtime enabled"})]}),(0,a.jsx)(S(),{href:"/project/".concat(l,"/database/publications"),target:"_blank",rel:"noreferrer",children:(0,a.jsx)(y.z,{type:"default",iconRight:(0,a.jsx)(em.Z,{}),children:"Publications settings"})})]}),(0,a.jsxs)("div",{className:"w-full px-5 py-4 items-center gap-4 inline-flex rounded-b-md bg-studio",children:[(0,a.jsxs)("div",{className:"grow flex-col flex",children:[(0,a.jsx)("p",{className:"text-foreground",children:"Not sure what to do?"}),(0,a.jsx)("p",{className:"text-foreground-lighter text-xs",children:"Browse our documentation"})]}),(0,a.jsx)(p.G,{href:"https://supabase.com/docs/guides/realtime"})]})]})]}):(0,a.jsx)(ez,{})})};var eE=e=>{let{enabled:t,hasChannelSet:s,data:n=[],showSendMessage:o}=e,[c,d]=(0,l.useState)(null),u=JSON.stringify(n),{ref:m}=(0,r.UO)(),h=(0,x.l)(),{mutate:f}=(0,i.a)();return((0,l.useEffect)(()=>{n&&(n.find(e=>e.id===(null==c?void 0:c.id))||d(null))},[u]),n)?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("section",{className:"flex w-full flex-col",style:{maxHeight:"calc(100vh - 42px - 3rem)"},children:[(0,a.jsx)(eg.Z,{active:t,"data-sentry-element":"ShimmerLine","data-sentry-source-file":"MessagesTable.tsx"}),(0,a.jsxs)("div",{className:(0,M.cn)("flex h-full flex-row",t?"border-brand-400":null),children:[(0,a.jsxs)("div",{className:"flex flex-grow flex-col",children:[t&&(0,a.jsxs)("div",{className:"w-full h-9 px-4 bg-surface-100 border-b items-center inline-flex justify-between text-foreground-light",children:[(0,a.jsxs)("div",{className:"inline-flex gap-2.5 text-xs",children:[(0,a.jsx)(eh.Z,{size:"16",className:"animate-spin"}),(0,a.jsx)("div",{children:"Listening"}),(0,a.jsx)("div",{children:"•"}),(0,a.jsx)("div",{children:n.length>0?n.length>=100?"Found a large number of messages, showing only the latest 100...":"Found ".concat(n.length," messages..."):"No message found yet..."})]}),(0,a.jsx)(y.z,{type:"default",onClick:o,icon:(0,a.jsx)(ef.Z,{strokeWidth:1.5}),children:(0,a.jsx)("span",{children:"Broadcast a message"})})]}),(0,a.jsx)(ep.ZP,{className:"data-grid--simple-logs h-full border-b-0",rowHeight:40,headerRowHeight:0,columns:eP,rowClass:e=>(0,M.cn)(["font-mono tracking-tight",eu()(e,c)?"bg-scale-800 rdg-row--focused":"bg-200 hover:bg-scale-300 cursor-pointer",eZ(e)&&"!bg-warning-300"]),rows:n,rowKeyGetter:e=>e.id,renderers:{renderRow(e,t){let{row:s}=t;return(0,a.jsx)(ep.X2,{...t,isRowSelected:!1,selectedCellIdx:void 0,onClick:()=>{var e;f({action:"realtime_inspector_message_clicked",groups:{project:null!=m?m:"Unknown",organization:null!==(e=null==h?void 0:h.slug)&&void 0!==e?e:"Unknown"}}),d(s)}},e)},noRowsFallback:(0,a.jsx)("div",{className:"mx-auto flex h-full w-full items-center justify-center space-y-12 py-4 transition-all delay-200 duration-500",children:(0,a.jsx)(eI,{enabled:t,hasChannelSet:s,showSendMessage:o})})},"data-sentry-element":"DataGrid","data-sentry-source-file":"MessagesTable.tsx"})]}),(0,a.jsx)("div",{className:"flex w-1/2 flex-col",children:(0,a.jsx)(e_,{onClose:()=>d(null),log:c,"data-sentry-element":"MessageSelection","data-sentry-source-file":"MessagesTable.tsx"})})]})]})}):null},eB=s(5186),eD=s(45536),eL=s(42155);let eF={message:"Test message",payload:'{ "message": "Hello World" }'},eO=e=>{let{visible:t,onSelectCancel:s,onSelectConfirm:n}=e,[r,i]=(0,l.useState)(),[o,c]=(0,l.useState)(eF);return(0,l.useEffect)(()=>{t&&(i(void 0),c(eF))},[t]),(0,a.jsx)(eL.Z,{size:"medium",alignFooter:"right",header:"Broadcast a message to all clients",visible:t,loading:!1,onCancel:s,onConfirm:()=>{let e=(0,eD.dW)(o.payload);void 0===e?i("Please provide a valid JSON"):n({...o,payload:e})},"data-sentry-element":"Modal","data-sentry-component":"SendMessageModal","data-sentry-source-file":"SendMessageModal.tsx",children:(0,a.jsxs)(eL.Z.Content,{className:"flex flex-col gap-y-4","data-sentry-element":"unknown","data-sentry-source-file":"SendMessageModal.tsx",children:[(0,a.jsx)(F.Z,{label:"Message name",size:"small",className:"flex-grow",value:o.message,onChange:e=>c({...o,message:e.target.value}),"data-sentry-element":"Input","data-sentry-source-file":"SendMessageModal.tsx"}),(0,a.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,a.jsx)("p",{className:"text-sm text-scale-1100",children:"Message payload"}),(0,a.jsx)(eB.Z,{id:"message-payload",language:"json",className:"!mb-0 h-32 overflow-hidden rounded border",onInputChange:e=>c({...o,payload:null!=e?e:"{}"}),options:{wordWrap:"off",contextmenu:!1},value:o.payload,"data-sentry-element":"CodeEditor","data-sentry-source-file":"SendMessageModal.tsx"}),void 0!==r&&(0,a.jsx)("p",{className:"text-sm text-red-900",children:r})]})]})})};var eA=s(57402),eW=s(96205),eU=s(88469),eH=s.n(eU),eJ=s(71635),eV=s.n(eJ),eG=s(89022),eQ=s.n(eG),eX=s(56844);function eY(e,t){return"clear"===t.type?eX.Z6:eQ()(eV()([{id:(0,eD.k$)(),timestamp:new Date().getTime(),message:t.payload.messageType,metadata:t.payload.metadata},...e],e=>-e.timestamp),100)}let eK=(e,t)=>{var s,a,n;let{enabled:r,channelName:i,projectRef:o,logLevel:c,token:d,schema:x,table:u,isChannelPrivate:m,filter:h,bearer:f,enablePresence:p,enableDbChanges:g,enableBroadcast:y}=e,{data:j}=(0,er.zR)({projectRef:o}),v=null!==(n=null==j?void 0:null===(s=j.app_config)||void 0===s?void 0:s.protocol)&&void 0!==n?n:"https",b=null==j?void 0:null===(a=j.app_config)||void 0===a?void 0:a.endpoint,N=j?"".concat(v,"://").concat(b):"https://".concat(o,".supabase.co"),w="".concat(N,"/realtime/v1").replace(/^http/i,"ws"),[C,k]=(0,l.useReducer)(eY,[]),S=(e,t)=>{k({type:"add",payload:{messageType:e,metadata:t}})},[M,_]=(0,l.useState)(),[z,T]=(0,l.useState)(),R=(0,eo.fN)();return(0,l.useEffect)(()=>{if(!r)return;let e=eH()(eW.fw,{params:{log_level:c}}),t={headers:eW.SU.headers,...e,params:{apikey:d,...e.params}},s=new eA.VH(w,t);return f&&s.setAuth(f),_(s),()=>{s.disconnect(),_(void 0)}},[r,f,N,c,d]),(0,l.useEffect)(()=>{if(!M)return;k({type:"clear"});let s=null==M?void 0:M.channel(i,{config:{broadcast:{self:!0},private:m}});if(s.on("system",{},e=>{S("SYSTEM",e)}),y&&s.on("broadcast",{event:"*"},e=>S("BROADCAST",e)),p&&s.on("presence",{event:"*"},e=>{S("PRESENCE",e)}),g){let e={event:"*",schema:x,table:u,filter:void 0};""!==h&&(e.filter=h),s.on("postgres_changes",e,e=>{let t=performance.now()+performance.timeOrigin,s=Date.parse(e.commit_timestamp);S("POSTGRES",{...e,latency:t-s})})}return s.subscribe(async a=>{if("SUBSCRIBED"===a){var n;let e=null===(n=R.role)||void 0===n?void 0:n.role;p&&s.send({type:"presence",event:"TRACK",payload:{name:(void 0===e?"service_role_":"anon"===e?"anon_role_":"authenticated"===e?"authenticated_role_":"user_name_")+Math.floor(100*Math.random()),t:performance.now()}})}else"CHANNEL_ERROR"===a&&(es.Am.error("Failed to connect to the channel ".concat(i,": This may be due to restrictive RLS policies. Check your role and try again.")),s.unsubscribe(),T(void 0),t({...e,channelName:"",enabled:!1}))}),T(s),()=>{s.unsubscribe(),T(void 0)}},[M,i,y,g,p,h,N,x,u]),{logData:C,sendMessage:(0,l.useCallback)(async(e,t,s)=>{z?"error"===await z.send({type:"broadcast",event:e,payload:t})?es.Am.error("Failed to broadcast message"):(es.Am.success("Successfully broadcasted message"),s()):es.Am.error("Failed to broadcast message: channel has not been set")},[z])}},eq=()=>{let{ref:e}=(0,r.UO)(),t=(0,x.l)(),[s,n]=(0,l.useState)(!1),[o,c]=(0,l.useState)({enabled:!1,projectRef:e,channelName:"",logLevel:"info",token:"",schema:"public",table:"*",isChannelPrivate:!1,filter:void 0,bearer:null,enablePresence:!0,enableDbChanges:!0,enableBroadcast:!0}),{mutate:d}=(0,i.a)(),{logData:u,sendMessage:m}=eK(o,c);return(0,a.jsxs)("div",{className:"flex flex-col grow h-full","data-sentry-component":"RealtimeInspector","data-sentry-source-file":"index.tsx",children:[(0,a.jsx)(ed,{config:o,onChangeConfig:c,"data-sentry-element":"Header","data-sentry-source-file":"index.tsx"}),(0,a.jsx)("div",{className:"relative flex flex-col grow",children:(0,a.jsx)("div",{className:"flex grow",children:(0,a.jsx)(eE,{hasChannelSet:o.channelName.length>0,enabled:o.enabled,data:u,showSendMessage:()=>n(!0),"data-sentry-element":"MessagesTable","data-sentry-source-file":"index.tsx"})})}),(0,a.jsx)(eO,{visible:s,onSelectCancel:()=>n(!1),onSelectConfirm:s=>{var a;d({action:"realtime_inspector_broadcast_sent",groups:{project:null!=e?e:"Unknown",organization:null!==(a=null==t?void 0:t.slug)&&void 0!==a?a:"Unknown"}}),m(s.message,s.payload,()=>n(!1))},"data-sentry-element":"SendMessageModal","data-sentry-source-file":"index.tsx"})]})};var e$=s(54768),e0=s(31584),e1=s(61767),e2=s(90817);let e4=()=>(0,e2.Xo)(n.KA.READ,"service_api_keys")?(0,a.jsx)(eq,{"data-sentry-element":"RealtimeInspector","data-sentry-component":"InspectorPage","data-sentry-source-file":"inspector.tsx"}):(0,a.jsx)(e1.Z,{isFullPage:!0,resourceText:"access your project's realtime functionalities"});e4.getLayout=e=>(0,a.jsx)(e0.Z,{children:(0,a.jsx)(e$.Z,{title:"Realtime Inspector",children:e})});var e5=e4},3503:function(e,t,s){"use strict";s.d(t,{B_:function(){return y},_f:function(){return N},aG:function(){return g},av:function(){return b}});var a=s(97458),n=s(50497),r=s(71770),l=s(52983),i=s(9060),o=s(12436),c=s(22114),d=s(65092),x=s(47482),u=s(90839),m=s(36210),h=s(36406),f=s(53496),p=s(38788);function g(e){let{className:t}=e,s=(0,h.Wo)(),r=(0,h.yg)();if(s)return(0,a.jsxs)("button",{className:(0,d.cn)("p-2 bg-overlay flex items-center gap-2 text-xs text-foreground-muted",t),onClick:r,"data-sentry-component":"Breadcrumb","data-sentry-source-file":"CommandMenu.tsx",children:[(0,a.jsx)(n.Z,{width:12,height:12,"data-sentry-element":"ArrowLeft","data-sentry-source-file":"CommandMenu.tsx"}),s.name]})}let y=(0,l.forwardRef)((e,t)=>{let{children:s,className:n,...r}=e;return(0,a.jsx)(x.mY,{ref:t,className:(0,d.cn)("h-full w-full flex flex-col overflow-hidden","[&_[cmdk-group]]:px-2 [&_[cmdk-group]]:!bg-transparent [&_[cmdk-group-heading]]:!bg-transparent [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-border-stronger [&_[cmdk-input]]:h-12","[&_[cmdk-item]_svg]:h-5","[&_[cmdk-item]_svg]:w-5","[&_[cmdk-item]_svg]:stroke-1","[&_[cmdk-input-wrapper]_svg]:h-5","[&_[cmdk-input-wrapper]_svg]:w-5","[&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0",n),...r,children:s})});function j(e){let{resetErrorBoundary:t}=e;return(0,a.jsx)("div",{className:(0,d.cn)("min-h-64","flex items-center justify-center"),"data-sentry-component":"CommandError","data-sentry-source-file":"CommandMenu.tsx",children:(0,a.jsxs)("div",{className:"p-10 flex flex-col items-center gap-6 mt-4",children:[(0,a.jsx)(r.Z,{strokeWidth:1.5,size:40,"data-sentry-element":"AlertTriangle","data-sentry-source-file":"CommandMenu.tsx"}),(0,a.jsx)("p",{className:"text-lg text-center",children:"Sorry, looks like we're having some issues with the command menu!"}),(0,a.jsx)("p",{className:"text-sm text-center",children:"Please try again in a bit."}),(0,a.jsx)(u.z,{size:"tiny",type:"secondary",onClick:t,"data-sentry-element":"Button","data-sentry-source-file":"CommandMenu.tsx",children:"Try again?"})]})})}function v(e){let{children:t}=e,s=(0,h.EB)();return s?(0,a.jsx)(s,{"data-sentry-element":"PageComponent","data-sentry-component":"PageSwitch","data-sentry-source-file":"CommandMenu.tsx"}):(0,a.jsx)(y,{"data-sentry-element":"CommandWrapper","data-sentry-component":"PageSwitch","data-sentry-source-file":"CommandMenu.tsx",children:t})}function b(e){let{children:t}=e,s=(0,p.Cc)(),a=(0,p.FX)(),n=l.Children.only(t);return n&&(0,l.isValidElement)(n)?(0,l.cloneElement)(n,{onClick:()=>{var e,t;a(!s),null===(e=(t=n.props).onOpen)||void 0===e||e.call(t,!s)},"aria-haspopup":"dialog","aria-expanded":s,"aria-controls":"command-menu-dialog-content",className:(0,d.cn)("h-10 px-4 py-2","inline-flex items-center justify-center","whitespace-nowrap","rounded-md border border-input bg-background","text-sm font-medium","hover:bg-accent hover:text-accent-foreground","ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50","transition-colors",n.props.className)}):null}function N(e){let{children:t,trigger:s}=e,n=(0,p.Cc)(),r=(0,p.FX)(),x=(0,o.Gc)("sm"),u=(0,p.Qd)(),g=(0,h.Wo)(),y=(0,h.yg)(),b=(0,f.a)(),N=(0,f.A)(),{ref:w}=function(e){let{toggleOpen:t}=e,{ref:s,handleTouchStart:a,handleTouchMove:n,handleTouchEnd:r}=(0,c.Z)({onClose:t}),i=(0,p.Gk)(),o=(0,l.useMemo)(()=>({handleTouchStart:a,handleTouchMove:n,handleTouchEnd:r}),[a,n,r]);return(0,l.useEffect)(()=>{i(o)},[o]),{ref:s}}({toggleOpen:()=>r(!n)});return(0,a.jsxs)(m.Vq,{open:n,onOpenChange:r,"data-sentry-element":"Dialog","data-sentry-component":"CommandMenu","data-sentry-source-file":"CommandMenu.tsx",children:[s,(0,a.jsx)(m.cZ,{id:"command-menu-dialog-content",hideClose:!0,forceMount:!0,ref:w,onOpenAutoFocus:e=>x&&e.preventDefault(),onInteractOutside:()=>r(!1),onEscapeKeyDown:e=>(e.preventDefault(),b?N(""):g?y():r(!1)),size:u,className:(0,d.cn)("relative flex flex-col my-0 mx-auto rounded-t-lg overflow-hidden","h-[85dvh] mt-[15vh] md:max-h-[500px] md:mt-0 left-0 bottom-0 md:bottom-auto","!animate-in !slide-in-from-bottom-[85%] !duration-300","data-[state=closed]:!animate-out data-[state=closed]:!slide-out-to-bottom","!slide-in-from-left-[0%] :!slide-in-from-top-[0%]","!slide-out-to-left-[0%] !slide-out-to-top-[0%]","md:data-[state=open]:!slide-in-from-bottom-[0%] md:data-[state=closed]:!slide-out-to-bottom-[0%]","md:data-[state=open]:!zoom-in-95 md:data-[state=closed]:!zoom-out-95"),dialogOverlayProps:{className:(0,d.cn)("overflow-hidden flex data-closed:delay-100")},"data-sentry-element":"DialogContent","data-sentry-source-file":"CommandMenu.tsx",children:(0,a.jsx)(i.SV,{FallbackComponent:j,"data-sentry-element":"ErrorBoundary","data-sentry-source-file":"CommandMenu.tsx",children:(0,a.jsx)(v,{"data-sentry-element":"PageSwitch","data-sentry-source-file":"CommandMenu.tsx",children:t})})})]})}y.displayName=x.mY.displayName},85682:function(e,t,s){"use strict";s.d(t,{I:function(){return x}});var a=s(97458),n=s(58596),r=s(52983),l=s(65092),i=s(56740),o=s(90839),c=s(25843);function d(e){let{icon:t,className:s}=e;return(0,a.jsx)("div",{className:(0,l.cn)("absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-foreground-light",s),"data-sentry-component":"InputIconContainer","data-sentry-source-file":"InputIconContainer.tsx",children:t})}let x=(0,r.forwardRef)((e,t)=>{let{copy:s,icon:x,reveal:u=!1,actions:m,onCopy:h,iconContainerClassName:f,containerClassName:p,...g}=e,[y,j]=(0,r.useState)("Copy"),[v,b]=(0,r.useState)(!0),N=(0,c.Z)("input"),w=[];return x&&w.push(N.with_icon),(0,a.jsxs)("div",{className:(0,l.cn)("relative",p),children:[(0,a.jsx)(i.I,{ref:t,...g,onCopy:h,value:u&&v?"**** **** **** ****":g.value,className:(0,l.cn)(...w,g.className)}),x&&(0,a.jsx)(d,{icon:x,className:f}),s||m?(0,a.jsxs)("div",{className:N.actions_container,children:[s&&!(u&&v)?(0,a.jsx)(o.z,{size:"tiny",type:"default",icon:(0,a.jsx)(n.Z,{size:16,className:"text-foreground-muted"}),onClick:()=>{var e,t;return e=g.value,void(null===(t=navigator.clipboard.writeText(e))||void 0===t||t.then(function(){j("Copied"),setTimeout(function(){j("Copy")},3e3),null==h||h()},function(){j("Failed to copy")}))},children:y}):null,u&&v?(0,a.jsx)(o.z,{size:"tiny",type:"default",onClick:function(){b(!1)},children:"Reveal"}):null,m&&m]}):null]})})},54354:function(e,t,s){"use strict";s.d(t,{c:function(){return y},w:function(){return f}});var a=s(97458),n=s(52983),r=s(40577),l=s(65092),i=s(28977),o=s.n(i),c=s(60192),d=s.n(c),x=s(13516),u=s.n(x);o().extend(d()),o().extend(u());let m=e=>o().unix(Number(e)/1e3/1e3).toISOString(),h=e=>{let t=16===String(e).length;return!Number.isNaN(Number(e))&&t},f=e=>{let{utcTimestamp:t,format:s}=e,a=h(t)?m(t):t;return o().utc(a).local().format(s)},p=e=>{let{utcTimestamp:t,format:s}=e,a=h(t)?m(t):t;return o().utc(a).format(s)},g=e=>{let{utcTimestamp:t}=e,s=h(t)?m(t):t;return o().utc(s).fromNow()},y=e=>{let{utcTimestamp:t,className:s,displayAs:i="local",format:o="DD MMM  HH:mm:ss",labelFormat:c="DD MMM HH:mm:ss"}=e,d=f({utcTimestamp:t,format:o}),x=p({utcTimestamp:t,format:o}),u=g({utcTimestamp:t}),[m,h]=(0,n.useState)("start"),y=(0,n.useRef)(null),j=Intl.DateTimeFormat().resolvedOptions().timeZone;(0,n.useEffect)(()=>{let e=()=>{if(y.current){let e=y.current.getBoundingClientRect(),t=window.innerHeight;h(e.top<t/2?"start":"end")}};return e(),window.addEventListener("scroll",e),window.addEventListener("resize",e),()=>{window.removeEventListener("scroll",e),window.removeEventListener("resize",e)}},[]);let v=e=>{let{label:t,value:s}=e,[r,i]=(0,n.useState)(!1);return(0,a.jsxs)("div",{onPointerDown:e=>{e.stopPropagation()},onMouseDown:e=>{e.stopPropagation()},onClick:e=>{e.stopPropagation(),e.preventDefault(),navigator.clipboard.writeText(s),i(!0),setTimeout(()=>{i(!1)},1e3)},className:(0,l.cn)("relative cursor-pointer flex gap-y-2 gap-x-0.5 hover:bg-surface-100 px-2 py-1 group",{"bg-surface-100":r}),"data-sentry-component":"TooltipRow","data-sentry-source-file":"index.tsx",children:[(0,a.jsxs)("div",{className:"flex items-center gap-x-2 text-left truncate",children:[(0,a.jsx)("p",{children:t}),(0,a.jsx)("div",{className:"border-t w-full border-dashed"})]}),(0,a.jsxs)("div",{className:"relative flex items-center gap-x-2 flex-grow",children:[(0,a.jsx)("div",{className:"border-t w-full border-dashed z-10"}),r&&(0,a.jsx)("span",{className:"flex items-center justify-end w-full absolute inset-0 flex items-right text-brand-600 bg-surface-100",children:"Copied!"}),(0,a.jsx)("span",{className:"flex items-center gap-x-2 justify-end whitespace-nowrap",children:s})]})]})};return(0,a.jsxs)(r.u,{"data-sentry-element":"Tooltip","data-sentry-component":"TimestampInfo","data-sentry-source-file":"index.tsx",children:[(0,a.jsx)(r.aJ,{asChild:!0,ref:y,className:"text-xs ".concat(s," border-b border-transparent hover:border-dashed hover:border-foreground-light"),"data-sentry-element":"TooltipTrigger","data-sentry-source-file":"index.tsx",children:(0,a.jsx)("span",{children:"local"===i?f({utcTimestamp:t,format:c}):p({utcTimestamp:t,format:c})})}),(0,a.jsxs)(r._v,{align:m,side:"right",className:"font-mono p-0 py-1 min-w-80","data-sentry-element":"TooltipContent","data-sentry-source-file":"index.tsx",children:[(0,a.jsx)(v,{label:"UTC",value:x,"data-sentry-element":"TooltipRow","data-sentry-source-file":"index.tsx"}),(0,a.jsx)(v,{label:j,value:d,"data-sentry-element":"TooltipRow","data-sentry-source-file":"index.tsx"}),(0,a.jsx)(v,{label:"Relative",value:u,"data-sentry-element":"TooltipRow","data-sentry-source-file":"index.tsx"}),(0,a.jsx)(v,{label:"Timestamp",value:String(t),"data-sentry-element":"TooltipRow","data-sentry-source-file":"index.tsx"})]})]})}},94059:function(e,t,s){"use strict";s.d(t,{ZP:function(){return u}});var a=s(97458),n=s(52983),r=s(25843),l=s(65092);function i(e){let{children:t,className:s,tag:n="div",style:r}=e;return(0,a.jsx)("".concat(n),{style:r,"data-sentry-element":"CustomTag","data-sentry-component":"Typography","data-sentry-source-file":"Typography.tsx",children:t})}i.Title=function(e){let{className:t,level:s=1,children:n,style:r}=e;return(0,a.jsx)("h".concat(s),{style:r,"data-sentry-element":"CustomTag","data-sentry-component":"Title","data-sentry-source-file":"Title.tsx",children:n})},i.Text=function(e){let{className:t,children:s,style:n,type:r,disabled:l,mark:i,code:o,keyboard:c,underline:d,strikethrough:x,strong:u,small:m}=e;return o?(0,a.jsx)("code",{style:n,children:s}):i?(0,a.jsx)("mark",{style:n,children:s}):c?(0,a.jsx)("kbd",{style:n,children:s}):u?(0,a.jsx)("strong",{style:n,children:s}):(0,a.jsx)("span",{style:n,"data-sentry-component":"Text","data-sentry-source-file":"Text.tsx",children:s})},i.Link=function(e){let{children:t,target:s="_blank",href:n,className:r,onClick:l,style:i}=e;return(0,a.jsx)("a",{onClick:l,href:n,target:s,rel:"noopener noreferrer",style:i,"data-sentry-component":"Link","data-sentry-source-file":"Link.tsx",children:t})};let o=(0,n.createContext)({type:"text"}),c=e=>{let{type:t}=e;return(0,a.jsx)(o.Provider,{value:{type:t},"data-sentry-element":"unknown","data-sentry-component":"MenuContextProvider","data-sentry-source-file":"MenuContext.tsx",children:e.children})},d=()=>{let e=(0,n.useContext)(o);if(void 0===e)throw Error("MenuContext must be used within a MenuContextProvider.");return e};function x(e){let{children:t,className:s,ulClassName:n,style:r,type:l="text"}=e;return(0,a.jsx)("nav",{role:"menu","aria-label":"Sidebar","aria-orientation":"vertical","aria-labelledby":"options-menu",className:s,style:r,"data-sentry-component":"Menu","data-sentry-source-file":"Menu.tsx",children:(0,a.jsx)(c,{type:l,"data-sentry-element":"MenuContextProvider","data-sentry-source-file":"Menu.tsx",children:(0,a.jsx)("ul",{className:n,children:t})})})}x.Item=function(e){let{children:t,icon:s,active:n,rounded:i,onClick:o,doNotCloseOverlay:c=!1,showActiveBar:x=!1,style:u}=e,m=(0,r.Z)("menu"),{type:h}=d(),f=[m.item.base];f.push(m.item.variants[h].base),n?f.push(m.item.variants[h].active):f.push(m.item.variants[h].normal);let p=[m.item.content.base];n?p.push(m.item.content.active):p.push(m.item.content.normal);let g=[m.item.icon.base];return n?g.push(m.item.icon.active):g.push(m.item.icon.normal),(0,a.jsxs)("li",{role:"menuitem",className:(0,l.cn)("outline-none",f),style:u,onClick:o,"aria-current":n?"page":void 0,"data-sentry-component":"Item","data-sentry-source-file":"Menu.tsx",children:[s&&(0,a.jsx)("div",{className:"".concat(g.join(" ")," min-w-fit"),children:s}),(0,a.jsx)("span",{className:p.join(" "),children:t})]})},x.Group=function(e){let{children:t,icon:s,title:n}=e,l=(0,r.Z)("menu"),{type:i}=d();return(0,a.jsxs)("div",{className:[l.group.base,l.group.variants[i]].join(" "),"data-sentry-component":"Group","data-sentry-source-file":"Menu.tsx",children:[s&&(0,a.jsx)("span",{className:l.group.icon,children:s}),(0,a.jsx)("span",{className:l.group.content,children:n}),t]})},x.Misc=function(e){let{children:t}=e;return(0,a.jsx)("div",{"data-sentry-component":"Misc","data-sentry-source-file":"Menu.tsx",children:(0,a.jsx)(i.Text,{"data-sentry-element":"unknown","data-sentry-source-file":"Menu.tsx",children:(0,a.jsx)("span",{children:t})})})};var u=x},62210:function(e,t,s){"use strict";s.d(t,{r:function(){return d}});var a=s(97458),n=s(56384),r=s(31706),l=s(52983),i=s(65092);let o=(0,r.j)("peer inline-flex shrink-0 cursor-pointer items-center rounded-full border transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-brand data-[state=checked]:hover:bg-brand-600/90 data-[state=unchecked]:bg-control data-[state=unchecked]:hover:bg-border",{variants:{size:{small:"h-[16px] w-[28px]",medium:"h-[20px] w-[34px]",large:"h-[24px] w-[44px]"}},defaultVariants:{size:"medium"}}),c=(0,r.j)("pointer-events-none block rounded-full bg-foreground-lighter data-[state=checked]:bg-white shadow-lg ring-0 transition-transform",{variants:{size:{small:"h-[12px] w-[12px] data-[state=checked]:translate-x-[13px] data-[state=unchecked]:translate-x-[1px]",medium:"h-[16px] w-[16px] data-[state=checked]:translate-x-[15px] data-[state=unchecked]:translate-x-[1px]",large:"h-[18px] w-[18px] data-[state=checked]:translate-x-[22px] data-[state=unchecked]:translate-x-[3px]"}},defaultVariants:{size:"medium"}}),d=l.forwardRef((e,t)=>{let{className:s,size:r,...l}=e;return(0,a.jsx)(n.fC,{className:(0,i.cn)(o({size:r}),s),...l,ref:t,children:(0,a.jsx)(n.bU,{className:(0,i.cn)(c({size:r}))})})});d.displayName=n.fC.displayName},36406:function(e,t,s){"use strict";s.d(t,{EB:function(){return x},Qy:function(){return f},SL:function(){return u},Wo:function(){return d},yg:function(){return m}});var a=s(85466),n=s.n(a),r=s(52983),l=s(34653),i=s(48736),o=s(49160),c=s(53496);let d=()=>{let{pagesState:e}=(0,i.D)(),{commandPages:t,pageStack:s}=(0,l.R)(e),a=s.at(-1);return(0,r.useMemo)(()=>a&&t[a]?{...t[a],name:a}:void 0,[t,a])},x=()=>{let e=d();if(e&&(0,o.sG)(e))return e.component},u=()=>{let{pagesState:e}=(0,i.D)(),t=(0,c.A)();return function(s){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.appendPageStack(s),a||t("")}},m=()=>{let{pagesState:e}=(0,i.D)(),{popPageStack:t}=(0,l.R)(e);return t},h=[],f=function(e,t){let{deps:s=h,enabled:a=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{pagesState:o}=(0,i.D)(),{registerNewPage:c}=(0,l.R)(o),d=(0,r.useRef)(s),x=(0,r.useRef)(a),u=(0,r.useRef)();(0,r.useMemo)(()=>{if(!n()(d.current,s)||x.current!==a){var r;null===(r=u.current)||void 0===r||r.call(u),u.current=a?c(e,t):void 0,d.current=s,x.current=a}},[c,e,t,s,a]),(0,r.useEffect)(()=>(u.current=a?c(e,t):void 0,()=>{var e;return null===(e=u.current)||void 0===e?void 0:e.call(u)}),[])}},53496:function(e,t,s){"use strict";s.d(t,{A:function(){return l},a:function(){return r}});var a=s(34653),n=s(48736);let r=()=>{let{queryState:e}=(0,n.D)(),{query:t}=(0,a.R)(e);return t},l=()=>{let{queryState:e}=(0,n.D)(),{setQuery:t}=(0,a.R)(e);return t}}},function(e){e.O(0,[6665,7623,588,305,6402,1864,8703,1018,4975,4376,9621,3954,441,9911,3760,4637,8069,9344,7726,6739,4098,902,8985,5518,5507,4847,1379,2047,9803,7414,1853,876,5433,3443,6273,9774,2888,179],function(){return e(e.s=29518)}),_N_E=e.O()}]);